<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Unity WebGL Alternating Animations</title>
    <style>
        .unity-canvas {
            width: 960px;
            height: 600px;
        }
    </style>
</head>
<body>
    <div id="unity-container-clockwise" class="unity-canvas" style="display: none;">
        <canvas id="unity-canvas-clockwise"></canvas>
    </div>
    <div id="unity-container-counterclockwise" class="unity-canvas" style="display: none;">
        <canvas id="unity-canvas-counterclockwise"></canvas>
    </div>

    <script>
        let currentShowing = 'clockwise';

        function loadUnity(containerId, buildPath) {
            var container = document.getElementById(containerId);
            var canvas = container.getElementsByTagName('canvas')[0];
            var script = document.createElement('script');
            script.src = `${buildPath}.loader.js`;
            script.onload = () => {
                createUnityInstance(canvas, {
                    dataUrl: `${buildPath}.data`,
                    frameworkUrl: `${buildPath}.framework.js`,
                    codeUrl: `${buildPath}.wasm`,
                    // Other configuration options as needed
                }).then((unityInstance) => {
                    // Instance loaded, can set to display:block if it's the first one to show
                    if (containerId.includes(currentShowing)) {
                        container.style.display = 'block';
                    }
                }).catch((message) => {
                    console.error(message);
                });
            };
            document.body.appendChild(script);
        }

        loadUnity('unity-container-clockwise', 'clockwise/Build/clockwise');
        loadUnity('unity-container-counterclockwise', 'counterclockwise/Build/counterclockwise');

        setInterval(() => {
            const containerClockwise = document.getElementById('unity-container-clockwise');
            const containerCounterclockwise = document.getElementById('unity-container-counterclockwise');

            if (currentShowing === 'clockwise') {
                containerClockwise.style.display = 'none';
                containerCounterclockwise.style.display = 'block';
                currentShowing = 'counterclockwise';
            } else {
                containerClockwise.style.display = 'block';
                containerCounterclockwise.style.display = 'none';
                currentShowing = 'clockwise';
            }
        }, 1000);
    </script>
</body>
</html>

